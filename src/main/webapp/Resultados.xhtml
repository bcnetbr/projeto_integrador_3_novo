<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <ui:composition template="/DecomCity.xhtml">
        <ui:define name="conteudo">
            <link rel="stylesheet" href="Login.css"/>
            <div class='row'>
                <div class='col-4'>
                    <h1 style="color: #C63A39; margin-left: 48%; margin-top: 30px">Filtro</h1>

                    <form jsfc="h:form">
                        <label for="country" class="identificador">Selecione o Pais</label>
                        <h:selectOneMenu id="pais" class="selecionar" converter="#{converterEntity}" value="#{necessidadePorBairroMB.necessidadePorBairro.pais}" disabled="">

                            <f:selectItems  value="#{necessidadePorBairroMB.listaPais}"
                                            var="pai" itemValue="#{pai}"
                                            itemLabel="#{pai.nome}"/> 

                        </h:selectOneMenu>

                        <label for="country" class="identificador">Selecione o Estado</label>
                        <h:selectOneMenu id="estado" class="selecionar" converter="#{converterEntity}" value="#{necessidadePorBairroMB.necessidadePorBairro.estado}">

                            <f:selectItems  value="#{necessidadePorBairroMB.listaEstado}"
                                            var="est" itemValue="#{est}"
                                            itemLabel="#{est.sigla}"/> 

                        </h:selectOneMenu>

                        <label for="country" class="identificador">Selecione a cidade</label>
                        <h:selectOneMenu id="cidade" class="selecionar" converter="#{converterEntity}" value="#{necessidadePorBairroMB.necessidadePorBairro.cidade}">
                            <f:selectItems  value="#{necessidadePorBairroMB.listaCidade}"
                                            var="cid" itemValue="#{cid}"
                                            itemLabel="#{cid.nome}"/> 
                        </h:selectOneMenu>

                        <label for="country" class="identificador">Selecione o Bairro</label>
                        <h:selectOneMenu id="bairro" class="selecionar" converter="#{converterEntity}" value="#{necessidadePorBairroMB.necessidadePorBairro.bairro}">
                            <f:selectItems  value="#{necessidadePorBairroMB.listaBairro}"
                                            var="bar" itemValue="#{bar}"
                                            itemLabel="#{bar.nome}"/> 
                        </h:selectOneMenu>

                        
                        <div>
                            <h:commandButton class="enviar" action="#{necessidadePorBairroMB.buscarResumoVotos()}" 
                                             style="margin-top: 0" value="Buscar" >
                            </h:commandButton>
                        </div>
                    </form>
                </div>

                <div class='col-1'>
                    <h1 style='color: #C63A39; margin-top: 30px '>Resultados</h1>
                    <p/>

                    <ui:repeat value="#{necessidadePorBairroMB.resultadoResumoVotacao}"
                               var="linha">
                        <div class="resultado">
                            #{linha[0]} | #{linha[1]} votos 
                        </div>
                    </ui:repeat>

                    


                </div>
                <script type="text/javascript">

                    function toggle(el) {
                    if (el.className != "pause")
                    {
                    el.src = 'off.png';
                    el.className = "pause";
                    } else if (el.className == "pause")
                    {
                    el.src = 'on.png';
                    el.className = "play";
                    }

                    return false;
                    }
                </script>


                <div class='col-5'>
                    <h3 style="color: #C63A39; margin-top: 41px; margin-left: 220px">Cadastrar necessidade?</h3>
                    <div style="margin-left: 218px; margin-top: -48px"> <button id="botaoAdicionar" class="botaoCadastro" >Adicionar</button>

                    </div>
                    <div id="map" class="mapa">
                    </div>

                    <script>
                        // Initialize and add the map
                        function initMap() {
                        // The location of Uluru
                        var uluru = {lat: -16.635907, lng: -49.235751};
                        // The map, centered at Uluru
                        var map = new google.maps.Map(
                        document.getElementById('map'), {zoom: 15, center: uluru});
                        // The marker, positioned at Uluru
                        var marker = new google.maps.Marker({position: uluru, map: map});
                        }
                    </script>

                    <script async="async" defer="defer"
                            src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDeo3dDo7ej6RujRzfTL8JW8VZ6OK7PKpI&amp;callback=initMap">
                    </script>
                </div>
            </div>
            <script>

                $("#botaoAdicionar").click(function () {
                $("#modalLoginForm").modal();
                });
            </script>
        </ui:define>
    </ui:composition>
</html>